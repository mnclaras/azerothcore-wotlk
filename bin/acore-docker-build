#!/usr/bin/env bash

# docker build -t acbuild -f docker/build/Dockerfile .

# docker run \
#     -v /"$(pwd)"/docker/build/cache:/azerothcore/build \
#     -v /"$(pwd)"/docker/worldserver/bin:/binworldserver \
#     -v /"$(pwd)"/docker/authserver/bin:/binauthserver \
#     acbuild

# Args
# $1: Docker image. Ex: acbuild
# $2: Cache folder. Ex: cache
# $3: Worldserver folder. Ex: worldserver
# $4: Authserver folder. Ex: authserver
docker build -t acbuild-$1 -f docker/build/Dockerfile .

docker run \
    -v /"$(pwd)"/docker/build/cache-$1:/azerothcore/build \
    -v /"$(pwd)"/docker/worldserver-$1/bin:/binworldserver \
    -v /"$(pwd)"/docker/authserver-$1/bin:/binauthserver \
    acbuild-$1
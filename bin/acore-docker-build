#!/usr/bin/env bash

# Args
# $1 blizz blizz-ptr custom custom-blizz

DOCKER_BUILDKIT=1 docker build -t acbuild-$1 -f docker/build/Dockerfile .

docker run \
    -v /"$(pwd)"/docker/build/cache-$1:/azerothcore/build \
    -v /"$(pwd)"/docker/worldserver-$1/bin:/binworldserver \
    -v /"$(pwd)"/docker/authserver-$1/bin:/binauthserver \
    acbuild-$1